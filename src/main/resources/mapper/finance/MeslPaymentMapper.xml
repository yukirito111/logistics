<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yuantu.dao.finance.MeslPaymentMapper">
    <resultMap id="BaseResultMap" type="com.yuantu.entity.finance.MeslPayment">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jun 27 18:20:00 CST 2019.
        -->
        <result column="id" property="id" jdbcType="INTEGER"/>
        <result column="payment_number" property="paymentNumber" jdbcType="VARCHAR"/>
        <result column="payment_type" property="paymentType" jdbcType="VARCHAR"/>
        <result column="payment_date" property="paymentDate" jdbcType="VARCHAR"/>
        <result column="payment_person" property="paymentPerson" jdbcType="VARCHAR"/>
        <result column="payment_money" property="paymentMoney" jdbcType="VARCHAR"/>
        <result column="payment_account" property="paymentAccount" jdbcType="VARCHAR"/>
    </resultMap>
    <insert id="insert" parameterType="com.yuantu.entity.finance.MeslPayment">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jun 27 18:20:00 CST 2019.
        -->
        <selectKey resultType="java.lang.Integer" keyProperty="id" order="AFTER">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into mesl_payment (payment_number, payment_type, payment_date,
        payment_person, payment_money, payment_account
        )
        values (#{paymentNumber,jdbcType=VARCHAR}, #{paymentType,jdbcType=VARCHAR}, #{paymentDate,jdbcType=VARCHAR},
        #{paymentPerson,jdbcType=VARCHAR}, #{paymentMoney,jdbcType=VARCHAR}, #{paymentAccount,jdbcType=VARCHAR}
        )
    </insert>
    <insert id="insertSelective" parameterType="com.yuantu.entity.finance.MeslPayment">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jun 27 18:20:00 CST 2019.
        -->
        <selectKey resultType="java.lang.Integer" keyProperty="id" order="AFTER">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into mesl_payment
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="paymentNumber != null">
                payment_number,
            </if>
            <if test="paymentType != null">
                payment_type,
            </if>
            <if test="paymentDate != null">
                payment_date,
            </if>
            <if test="paymentPerson != null">
                payment_person,
            </if>
            <if test="paymentMoney != null">
                payment_money,
            </if>
            <if test="paymentAccount != null">
                payment_account,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="paymentNumber != null">
                #{paymentNumber,jdbcType=VARCHAR},
            </if>
            <if test="paymentType != null">
                #{paymentType,jdbcType=VARCHAR},
            </if>
            <if test="paymentDate != null">
                #{paymentDate,jdbcType=VARCHAR},
            </if>
            <if test="paymentPerson != null">
                #{paymentPerson,jdbcType=VARCHAR},
            </if>
            <if test="paymentMoney != null">
                #{paymentMoney,jdbcType=VARCHAR},
            </if>
            <if test="paymentAccount != null">
                #{paymentAccount,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
    <select id="selectPaymentByPaymentType" resultType="com.yuantu.entity.finance.MeslPayment">
        SELECT id,
               payment_number  AS paymentNumber,
               payment_type    AS paymentType,
               payment_date    AS paymentDate,
               payment_person  AS paymentPerson,
               payment_money   AS paymentMoney,
               payment_account AS paymentAccount
        FROM mesl_payment
        WHERE payment_type = #{paymentType}
    </select>
    <select id="selectPaymentByDate" resultType="com.yuantu.entity.finance.MeslPayment">
        SELECT id,
               payment_number  AS paymentNumber,
               payment_type    AS paymentType,
               payment_date    AS paymentDate,
               payment_person  AS paymentPerson,
               payment_money   AS paymentMoney,
               payment_account AS paymentAccount
        FROM mesl_payment
        WHERE payment_date = #{paymentDate}
          and payment_type = #{paymentType}
    </select>
    <select id="total" resultType="java.lang.Double">
        SELECT sum(payment_money) AS paymentMoney
        FROM mesl_payment
        WHERE payment_type = #{paymentType}
    </select>
    <select id="selectPaymentByNumber" resultType="com.yuantu.entity.finance.MeslPayment">
        select payment_number  AS paymentNumber,
               payment_type    AS paymentType,
               payment_date    AS paymentDate,
               payment_person  AS paymentPerson,
               payment_money   AS paymentMoney,
               payment_account AS paymentAccount
        from mesl_payment
        where payment_number = #{number}
    </select>


</mapper>