<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yuantu.dao.courier.MeslMailMapper">
    <resultMap id="BaseResultMap" type="com.yuantu.entity.courier.MeslMail">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jul 25 17:43:38 CST 2019.
        -->
        <result column="id" property="id" jdbcType="INTEGER"/>
        <result column="expressorder_number" property="expressorderNumber" jdbcType="VARCHAR"/>
        <result column="sender_name" property="senderName" jdbcType="VARCHAR"/>
        <result column="sender_phone" property="senderPhone" jdbcType="VARCHAR"/>
        <result column="sender_address" property="senderAddress" jdbcType="VARCHAR"/>
        <result column="recipient_name" property="recipientName" jdbcType="VARCHAR"/>
        <result column="recipient_phone" property="recipientPhone" jdbcType="VARCHAR"/>
        <result column="recipient_address" property="recipientAddress" jdbcType="VARCHAR"/>
        <result column="cargo_type" property="cargoType" jdbcType="VARCHAR"/>
        <result column="cargo_weight" property="cargoWeight" jdbcType="VARCHAR"/>
        <result column="cargo_size" property="cargoSize" jdbcType="VARCHAR"/>
        <result column="pack_type" property="packType" jdbcType="VARCHAR"/>
        <result column="transport_type" property="transportType" jdbcType="VARCHAR"/>
        <result column="appointment_time" property="appointmentTime" jdbcType="VARCHAR"/>
        <result column="mail_state" property="mailState" jdbcType="VARCHAR"/>
        <result column="mail_logistics" property="mailLogistics" jdbcType="VARCHAR"/>
    </resultMap>
    <insert id="insert" parameterType="com.yuantu.entity.courier.MeslMail">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jul 25 17:43:38 CST 2019.
        -->
        <selectKey resultType="java.lang.Integer" keyProperty="id" order="AFTER">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into mesl_mail (expressorder_number, sender_name, sender_phone,
        sender_address, recipient_name, recipient_phone,
        recipient_address, cargo_type, cargo_weight,
        cargo_size, pack_type, transport_type,
        appointment_time, mail_state, mail_logistics
        )
        values (#{expressorderNumber,jdbcType=VARCHAR}, #{senderName,jdbcType=VARCHAR}, #{senderPhone,jdbcType=VARCHAR},
        #{senderAddress,jdbcType=VARCHAR}, #{recipientName,jdbcType=VARCHAR}, #{recipientPhone,jdbcType=VARCHAR},
        #{recipientAddress,jdbcType=VARCHAR}, #{cargoType,jdbcType=VARCHAR}, #{cargoWeight,jdbcType=VARCHAR},
        #{cargoSize,jdbcType=VARCHAR}, #{packType,jdbcType=VARCHAR}, #{transportType,jdbcType=VARCHAR},
        #{appointmentTime,jdbcType=VARCHAR}, #{mailState,jdbcType=VARCHAR}, #{mailLogistics,jdbcType=VARCHAR}
        )
    </insert>
    <insert id="insertSelective" parameterType="com.yuantu.entity.courier.MeslMail">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jul 25 17:43:38 CST 2019.
        -->
        <selectKey resultType="java.lang.Integer" keyProperty="id" order="AFTER">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into mesl_mail
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="expressorderNumber != null">
                expressorder_number,
            </if>
            <if test="senderName != null">
                sender_name,
            </if>
            <if test="senderPhone != null">
                sender_phone,
            </if>
            <if test="senderAddress != null">
                sender_address,
            </if>
            <if test="recipientName != null">
                recipient_name,
            </if>
            <if test="recipientPhone != null">
                recipient_phone,
            </if>
            <if test="recipientAddress != null">
                recipient_address,
            </if>
            <if test="cargoType != null">
                cargo_type,
            </if>
            <if test="cargoWeight != null">
                cargo_weight,
            </if>
            <if test="cargoSize != null">
                cargo_size,
            </if>
            <if test="packType != null">
                pack_type,
            </if>
            <if test="transportType != null">
                transport_type,
            </if>
            <if test="appointmentTime != null">
                appointment_time,
            </if>
            <if test="mailState != null">
                mail_state,
            </if>
            <if test="mailLogistics != null">
                mail_logistics,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="expressorderNumber != null">
                #{expressorderNumber,jdbcType=VARCHAR},
            </if>
            <if test="senderName != null">
                #{senderName,jdbcType=VARCHAR},
            </if>
            <if test="senderPhone != null">
                #{senderPhone,jdbcType=VARCHAR},
            </if>
            <if test="senderAddress != null">
                #{senderAddress,jdbcType=VARCHAR},
            </if>
            <if test="recipientName != null">
                #{recipientName,jdbcType=VARCHAR},
            </if>
            <if test="recipientPhone != null">
                #{recipientPhone,jdbcType=VARCHAR},
            </if>
            <if test="recipientAddress != null">
                #{recipientAddress,jdbcType=VARCHAR},
            </if>
            <if test="cargoType != null">
                #{cargoType,jdbcType=VARCHAR},
            </if>
            <if test="cargoWeight != null">
                #{cargoWeight,jdbcType=VARCHAR},
            </if>
            <if test="cargoSize != null">
                #{cargoSize,jdbcType=VARCHAR},
            </if>
            <if test="packType != null">
                #{packType,jdbcType=VARCHAR},
            </if>
            <if test="transportType != null">
                #{transportType,jdbcType=VARCHAR},
            </if>
            <if test="appointmentTime != null">
                #{appointmentTime,jdbcType=VARCHAR},
            </if>
            <if test="mailState != null">
                #{mailState,jdbcType=VARCHAR},
            </if>
            <if test="mailLogistics != null">
                #{mailLogistics,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>

    <update id="updateState">
        UPDATE mesl_mail
        SET mail_state = #{state}
        where mail_state = 0;
    </update>
    <update id="updateMail">
        update mesl_mail set cargo_type = #{cargoType}, cargo_weight = #{cargoWeight},cargo_size = #{cargoSize},pack_type = #{packType},appointment_time = #{appointmentTime} where expressorder_number = #{expressorderNumber}
    </update>
    <select id="selectMailByState" resultType="com.yuantu.entity.courier.MeslMail">
        SELECT expressorder_number AS expressorderNumber,
               sender_name         AS senderName,
               sender_phone        AS senderPhone,
               sender_address      AS senderAddress,
               recipient_name      AS recipientName,
               recipient_phone     AS recipientPhone,
               recipient_address   AS recipientAddress,
               cargo_type          AS cargoType,
               cargo_weight        AS cargoWeight,
               cargo_size          AS cargoSize,
               pack_type           AS packType,
               transport_type      AS transportType,
               appointment_time    AS appointMent,
               mail_state          AS mailState
        FROM mesl_mail
        WHERE mail_state = #{state} and recipient_address = #{recipientAddress}
    </select>
</mapper>